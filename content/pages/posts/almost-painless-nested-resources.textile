date: 2007-10-23 22:23:00 -0700

h1. Almost Painless Nested Resources

<i>Cross posted from "Giant Robots":http://giantrobots.thoughtbot.com/2007/10/23/almost-painless-nested-resources</i>

It's often the case that you have a restful resource that needs to be accessible nested, and at root.  For example, let's say we have a storefront with a bunch of users and products.  Each user can play with their own products, and the admin users can play with everyone's products.  You've got a @:products@ resource at root, and a nested version to scope it under @:users@.

<pre><code class="ruby">
# Admin see all products at /products 
map.resources :products

map.resources :users do |users|
  # Users see theirs at /users/:id/products
  users.resources :products, :name_prefix => "user_"
end
</code></pre>

That's all fine and dandy, but your controller is gonna get really messy, real quick...
